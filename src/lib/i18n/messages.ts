export const en = {
  "app.title": "AI Meeting",
  "app.tagline": "Multi-AI multi-model discussion system",

  "common.back": "Back",
  "common.back_home": "Back to Home",
  "common.loading": "Loading...",
  "common.save": "Save",
  "common.saving": "Saving...",
  "common.cancel": "Cancel",
  "common.delete": "Delete",
  "common.show": "Show",
  "common.hide": "Hide",
  "common.fetching": "Fetching...",
  "common.refresh_models": "Refresh Models",
  "common.you": "You",
  "common.system": "system",
  "common.live": "Live",
  "common.send": "Send",
  "common.round": "Round {n}",

  "nav.settings": "Settings",

  "home.new_meeting": "+ New Meeting",
  "home.no_meetings": "No meetings yet",
  "home.create_first_meeting": "Create your first meeting",
  "home.agents_count": "{n} agents",

  "meeting.state.draft": "Draft",
  "meeting.state.discussing": "Discussing",
  "meeting.state.voting": "Voting",
  "meeting.state.accepted": "Accepted",
  "meeting.state.aborted": "Aborted",

  "new.title": "New Meeting",
  "new.subtitle": "Configure agents and start a multi-AI discussion",
  "new.topic": "Topic",
  "new.topic_placeholder": "Enter discussion topic...",
  "new.quick_set_all_agents": "Quick: Set All Agents",
  "new.quick_help": "Or configure each agent individually below",
  "new.provider": "Provider",
  "new.model": "Model",
  "new.agents": "Agents",
  "new.add_agent": "+ Add Agent",
  "new.agent_fallback": "Agent {n}",
  "new.display_name": "Display Name",
  "new.id": "ID",
  "new.system_prompt": "System Prompt",
  "new.settings": "Settings",
  "new.discussion_mode": "Discussion Mode",
  "new.mode_auto": "Auto",
  "new.mode_serial_turn": "Serial Turn",
  "new.mode_parallel_round": "Parallel Round",
  "new.consensus_threshold": "Consensus Threshold ({n})",
  "new.min_rounds": "Min Rounds",
  "new.max_rounds": "Max Rounds",
  "new.creating": "Creating...",
  "new.create_and_enter": "Create & Enter Meeting",
  "new.err_topic_required": "Please enter a topic",
  "new.err_create_failed": "Failed to create meeting",

  "meeting.loading": "Loading meeting...",
  "meeting.not_found": "Meeting not found",
  "meeting.press_start_to_begin": "Press \"Start Discussion\" to begin",
  "meeting.send_placeholder": "Send a steering message...",
  "meeting.voting_interrupt_warning": "Voting in progress. Your message will interrupt the vote.",
  "meeting.start_discussion": "Start Discussion",
  "meeting.abort": "Abort",
  "meeting.abort_reason_user": "User aborted",
  "meeting.waiting_agents": "Waiting for agents...",
  "meeting.sidebar.agents": "Agents",
  "meeting.sidebar.latest_votes": "Latest Votes",
  "meeting.sidebar.config": "Config",
  "meeting.config.mode": "Mode",
  "meeting.config.threshold": "Threshold",
  "meeting.config.rounds": "Rounds",

  "result.loading": "Loading result...",
  "result.consensus_reached": "Consensus Reached",
  "result.meeting_ended": "Meeting Ended",
  "result.reason_consensus": "Agents reached consensus.",
  "result.reason_aborted": "Meeting was aborted.",
  "result.topic": "Topic",
  "result.stats.rounds": "Rounds",
  "result.stats.messages": "Messages",
  "result.stats.avg_score": "Avg Score",
  "result.stats.agents": "Agents",
  "result.final_votes": "Final Vote Results",
  "result.full_discussion": "Full Discussion ({n} messages)",
  "result.summary": "Summary",
  "result.start_new": "Start New Meeting",

  "settings.title": "Settings",
  "settings.subtitle": "Manage appearance, LLM providers, and custom endpoints",
  "settings.appearance": "Appearance",
  "settings.language": "Language",
  "settings.language.zh-CN": "简体中文",
  "settings.language.en": "English",
  "settings.theme": "Theme",
  "settings.theme.light": "Day",
  "settings.theme.dark": "Night",

  "providers.built_in": "Built-in Providers",
  "providers.custom": "Custom Providers ({n})",
  "providers.add": "+ Add Provider",
  "providers.new": "New Provider",
  "providers.none_custom": "No custom providers. Click \"+ Add Provider\" to add one.",
  "providers.models_count": "{n} models",
  "providers.configured": "Configured",
  "providers.not_configured": "Not Configured",
  "providers.load_failed": "Failed to load providers",

  "provider_form.name": "Name",
  "provider_form.name_placeholder": "My Provider",
  "provider_form.base_url": "Base URL",
  "provider_form.api_key": "API Key",
  "provider_form.keep_key_placeholder": "Leave empty to keep current key",
  "provider_form.optional": "Optional",
  "provider_form.api_format": "API Format",
  "provider_form.auto_refresh_hint": "Models auto-refresh when URL, key, or format changes.",
  "provider_form.models": "Models ({n})",
  "provider_form.no_models_yet": "No models found yet. Fill URL/key and wait for auto refresh, or click refresh.",
  "provider_form.model_id_placeholder": "model-id",
  "provider_form.model_name_placeholder": "Display Name",
  "provider_form.confirm_delete": "Delete this provider?",
  "provider_form.probe_failed": "Probe failed",
  "provider_form.no_models_detected": "No models were detected from endpoint response",
} as const;

export type MessageKey = keyof typeof en;

export const zhCN: Record<MessageKey, string> = {
  "app.title": "AI Meeting",
  "app.tagline": "多 AI 多模型讨论系统",

  "common.back": "返回",
  "common.back_home": "返回首页",
  "common.loading": "加载中...",
  "common.save": "保存",
  "common.saving": "保存中...",
  "common.cancel": "取消",
  "common.delete": "删除",
  "common.show": "显示",
  "common.hide": "隐藏",
  "common.fetching": "获取中...",
  "common.refresh_models": "刷新模型",
  "common.you": "你",
  "common.system": "系统",
  "common.live": "实时",
  "common.send": "发送",
  "common.round": "第 {n} 轮",

  "nav.settings": "设置",

  "home.new_meeting": "+ 新建会议",
  "home.no_meetings": "暂无会议",
  "home.create_first_meeting": "创建你的第一次会议",
  "home.agents_count": "{n} 个智能体",

  "meeting.state.draft": "草稿",
  "meeting.state.discussing": "讨论中",
  "meeting.state.voting": "投票中",
  "meeting.state.accepted": "已通过",
  "meeting.state.aborted": "已中止",

  "new.title": "新建会议",
  "new.subtitle": "配置智能体并开始一场多 AI 讨论",
  "new.topic": "议题",
  "new.topic_placeholder": "输入讨论议题...",
  "new.quick_set_all_agents": "快速：统一设置所有智能体",
  "new.quick_help": "或在下方逐个配置智能体",
  "new.provider": "供应商",
  "new.model": "模型",
  "new.agents": "智能体",
  "new.add_agent": "+ 添加智能体",
  "new.agent_fallback": "智能体 {n}",
  "new.display_name": "显示名称",
  "new.id": "ID",
  "new.system_prompt": "系统提示词",
  "new.settings": "设置",
  "new.discussion_mode": "讨论模式",
  "new.mode_auto": "自动",
  "new.mode_serial_turn": "串行轮流",
  "new.mode_parallel_round": "并行轮次",
  "new.consensus_threshold": "共识阈值（{n}）",
  "new.min_rounds": "最少轮次",
  "new.max_rounds": "最多轮次",
  "new.creating": "创建中...",
  "new.create_and_enter": "创建并进入会议",
  "new.err_topic_required": "请输入议题",
  "new.err_create_failed": "创建会议失败",

  "meeting.loading": "会议加载中...",
  "meeting.not_found": "未找到会议",
  "meeting.press_start_to_begin": "点击“开始讨论”开始",
  "meeting.send_placeholder": "发送引导消息...",
  "meeting.voting_interrupt_warning": "正在投票，你的消息会中断投票。",
  "meeting.start_discussion": "开始讨论",
  "meeting.abort": "中止",
  "meeting.abort_reason_user": "用户中止",
  "meeting.waiting_agents": "等待智能体...",
  "meeting.sidebar.agents": "智能体",
  "meeting.sidebar.latest_votes": "最新投票",
  "meeting.sidebar.config": "配置",
  "meeting.config.mode": "模式",
  "meeting.config.threshold": "阈值",
  "meeting.config.rounds": "轮次",

  "result.loading": "结果加载中...",
  "result.consensus_reached": "已达成共识",
  "result.meeting_ended": "会议已结束",
  "result.reason_consensus": "智能体已达成共识。",
  "result.reason_aborted": "会议已中止。",
  "result.topic": "议题",
  "result.stats.rounds": "轮次",
  "result.stats.messages": "消息",
  "result.stats.avg_score": "平均分",
  "result.stats.agents": "智能体",
  "result.final_votes": "最终投票结果",
  "result.full_discussion": "完整讨论（{n} 条消息）",
  "result.summary": "摘要",
  "result.start_new": "开始新会议",

  "settings.title": "设置",
  "settings.subtitle": "管理外观、LLM 供应商与自定义端点",
  "settings.appearance": "外观",
  "settings.language": "语言",
  "settings.language.zh-CN": "简体中文",
  "settings.language.en": "English",
  "settings.theme": "主题",
  "settings.theme.light": "日间",
  "settings.theme.dark": "夜间",

  "providers.built_in": "内置供应商",
  "providers.custom": "自定义供应商（{n}）",
  "providers.add": "+ 添加供应商",
  "providers.new": "新建供应商",
  "providers.none_custom": "暂无自定义供应商。点击“+ 添加供应商”来新增。",
  "providers.models_count": "{n} 个模型",
  "providers.configured": "已配置",
  "providers.not_configured": "未配置",
  "providers.load_failed": "加载供应商失败",

  "provider_form.name": "名称",
  "provider_form.name_placeholder": "我的供应商",
  "provider_form.base_url": "Base URL",
  "provider_form.api_key": "API Key",
  "provider_form.keep_key_placeholder": "留空以保持当前 Key",
  "provider_form.optional": "可选",
  "provider_form.api_format": "API 格式",
  "provider_form.auto_refresh_hint": "当 URL / Key / 格式变化时会自动刷新模型列表。",
  "provider_form.models": "模型（{n}）",
  "provider_form.no_models_yet": "尚未获取到模型。填写 URL / Key 后等待自动刷新，或点击刷新。",
  "provider_form.model_id_placeholder": "model-id",
  "provider_form.model_name_placeholder": "显示名称",
  "provider_form.confirm_delete": "确定删除该供应商？",
  "provider_form.probe_failed": "探测失败",
  "provider_form.no_models_detected": "从端点响应中未检测到模型",
};

export const MESSAGES = { en, "zh-CN": zhCN } as const;

export type Locale = keyof typeof MESSAGES;

export const DEFAULT_LOCALE: Locale = "zh-CN";

export function translate(
  locale: Locale,
  key: MessageKey,
  params?: Record<string, string | number>,
): string {
  const template = MESSAGES[locale]?.[key] ?? MESSAGES.en[key] ?? key;
  if (!params) return template;
  return template.replace(/\{(\w+)\}/g, (_, paramName: string) => {
    const value = params[paramName];
    return value === undefined ? `{${paramName}}` : String(value);
  });
}

